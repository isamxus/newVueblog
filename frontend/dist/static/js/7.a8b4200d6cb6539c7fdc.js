webpackJsonp([7],{"+quV":function(e,t){},V0Ng:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("aA9S"),n=a.n(o),r=a("rVsN"),s=a.n(r),i={tabGetlist:function(e){return axios.post(REQUEST_URL.TabGetList,REQUEST_URL.handleParams(e)).then(function(e){return s.a.resolve(e.data.PostContent)})},TabCreate:function(e){return axios.post(REQUEST_URL.TabCreate,REQUEST_URL.handleParams(e)).then(function(e){return s.a.resolve(e.data.PostContent)})},TabUpdate:function(e){return axios.post(REQUEST_URL.TabUpdate,REQUEST_URL.handleParams(e)).then(function(e){return s.a.resolve(e.data.PostContent)})},TabDelete:function(e){return axios.post(REQUEST_URL.TabDelete,REQUEST_URL.handleParams(e)).then(function(e){return s.a.resolve(e.data.PostContent)})}},l=function(e){return n()({IndexTabID:"",IndexTabName:"",IndexTabContent:"",IndexTabCode:"",IsShowTab:!0,edit:!1},e)},c={name:"articleListPage",data:function(){return{breadcrumbs:[{title:this.$route.query.paramsName}],columns:[{title:"序号",type:"index",width:120},{title:"Tab标题",key:"IndexTabName"},{title:"操作",align:"center",render:this.toolColumnRender}],searchForm:l(),CategoryListData:[],TagListData:[],tableData:[],PageCount:0,PageNumber:1,PageSize:10,tabListData:[],popModal:!1,createTabForm:l(),createTabRules:{IndexTabName:[{required:!0,message:"请输入Tab页标题"}],IndexTabCode:[{required:!0,message:"请输入Tab页码"}]}}},components:{SubNavigationFrame:a("C7Kb").a},mounted:function(){this.$store.commit("showAdminMenu",!0),this.getTabListHandler()},methods:{toolColumnRender:function(e,t){var a=this;return e("div",[e("Button",{props:{type:"text"},domProps:{innerText:"编辑"},on:{click:function(e){e.stopPropagation(),a.popModal=!0,t.row.edit=!0,a.createTabForm=t.row}}}),e("Button",{props:{type:"text"},domProps:{innerText:"删除"},on:{click:function(e){if(e.stopPropagation(),"000601"==t.row.IndexTabCode)return a.$Message.warning("该Tab页不能手动删除");a.deleteTabHandler(t.row.IndexTabID)}}})])},resetFormHandler:function(){this.createTabForm=l(),this.popModal=!0},getTabListHandler:function(){var e=this;i.tabGetlist().then(function(t){e.tabListData=t}).catch(function(t){e.$Message.error(t)})},submitFormHandler:function(){var e=this;if(!this.createTabForm.IndexTabName)return this.$Message.warning("请输入Tab页标题");if(!this.createTabForm.IndexTabCode)return this.$Message.warning("请输入Tab页码");if(this.tabListData.find(function(t){return t.IndexTabCode===e.createTabForm.IndexTabCode})&&!this.createTabForm.edit)return this.$Message.warning("请勿输入重复的Tab页码");var t=objectCopy(this.createTabForm);i[t.edit?"TabUpdate":"TabCreate"]({PostContent:t}).then(function(t){e.getTabListHandler(),e.popModal=!1}).catch(function(t){e.$Message.error(t)})},deleteTabHandler:function(e){var t=this;if(!e)return this.$Message.warning("参数ID为空，无法删除！！！");this.$Modal.confirm({title:"操作确认",icon:"warning",content:"是否删除此Tab页",okText:"确定",showCancel:!0,loading:!0,onOk:function(){i.TabDelete({PostContent:{IndexTabID:e}}).then(function(e){t.$Message.success("成功删除Tab页！！！"),t.$Modal.remove(),t.getTabListHandler()}).catch(function(e){t.$Modal.remove(),t.$Message.error(e)})}})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("SubNavigationFrame",{attrs:{title:e.$route.query.paramsName,breadcrumb:e.breadcrumbs}},[a("div",{style:{textAlign:"right",marginTop:"-2.5rem"},attrs:{slot:"navigation"},slot:"navigation"},[a("Button",{on:{click:function(t){return e.$router.push({name:"Index"})}}},[e._v("返回主站")]),e._v(" "),a("Button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1),e._v(" "),a("div",{staticClass:"sub-page-container",style:{"margin-top":".5rem","padding-top":"1rem"},attrs:{slot:"content"},slot:"content"},[a("Row",[a("Col",{attrs:{span:"8"}},[a("div",{style:{marginBottom:".7rem"}},[a("Button",{attrs:{type:"primary"},on:{click:e.resetFormHandler}},[a("Icon",{attrs:{type:"md-add"}}),e._v("自定义Tab页")],1)],1)])],1),e._v(" "),a("Table",{attrs:{columns:e.columns,data:e.tabListData}}),e._v(" "),a("Modal",{attrs:{title:e.createTabForm.edit?"编辑Tab页":"新增Tab页",width:"800"},model:{value:e.popModal,callback:function(t){e.popModal=t},expression:"popModal"}},[a("Form",{ref:"createForm",style:{marginBottom:"2.5rem"},attrs:{"label-width":110,model:e.createTabForm,rules:e.createTabRules}},[a("Row",[a("Col",{attrs:{span:"16"}},[a("FormItem",{attrs:{label:"Tab页标题：",prop:"IndexTabName"}},[a("Input",{attrs:{placeholder:"请输入Tab页标题"},model:{value:e.createTabForm.IndexTabName,callback:function(t){e.$set(e.createTabForm,"IndexTabName",t)},expression:"createTabForm.IndexTabName"}})],1)],1)],1),e._v(" "),a("Row",{directives:[{name:"show",rawName:"v-show",value:"000601"!=e.createTabForm.IndexTabCode,expression:"createTabForm.IndexTabCode != '000601'"}]},[a("Col",{attrs:{span:"16"}},[a("FormItem",{attrs:{label:"Tab页码：",prop:"IndexTabCode"}},[a("Input",{attrs:{placeholder:"请输入Tab页码"},model:{value:e.createTabForm.IndexTabCode,callback:function(t){e.$set(e.createTabForm,"IndexTabCode",t)},expression:"createTabForm.IndexTabCode"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"16"}},[a("FormItem",{attrs:{label:"是否显示：",prop:"IsShowTab"}},[a("i-switch",{model:{value:e.createTabForm.IsShowTab,callback:function(t){e.$set(e.createTabForm,"IsShowTab",t)},expression:"createTabForm.IsShowTab"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),e._v(" "),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1)],1)],1),e._v(" "),a("Row",{directives:[{name:"show",rawName:"v-show",value:"000601"!=e.createTabForm.IndexTabCode,expression:"createTabForm.IndexTabCode != '000601'"}]},[a("Col",{attrs:{span:"22"}},[a("FormItem",{attrs:{label:"Tab内容：",prop:"IndexTabContent"}},[a("quill-editor",{staticStyle:{height:"18rem"},model:{value:e.createTabForm.IndexTabContent,callback:function(t){e.$set(e.createTabForm,"IndexTabContent",t)},expression:"createTabForm.IndexTabContent"}})],1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:e.submitFormHandler}},[e._v("确定")]),e._v(" "),a("Button",{on:{click:function(t){e.popModal=!1}}},[e._v("取消")])],1)],1)],1)])},staticRenderFns:[]};var b=a("C7Lr")(c,d,!1,function(e){a("+quV")},null,null);t.default=b.exports}});
//# sourceMappingURL=7.a8b4200d6cb6539c7fdc.js.map