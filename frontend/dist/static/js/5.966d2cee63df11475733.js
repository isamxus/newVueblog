webpackJsonp([5],{CS18:function(t,e){},"DUK/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("aA9S"),n=a.n(r),i=a("rVsN"),o=a.n(i),s={articleGetList:function(t){return axios.post(REQUEST_URL.articleGetList,REQUEST_URL.handleParams(t)).then(function(t){return o.a.resolve(t.data.PostContent)})},articleDelete:function(t){return axios.post(REQUEST_URL.articleDelete,REQUEST_URL.handleParams(t)).then(function(t){return o.a.resolve(t.data.PostContent)})},articleGetPageList:function(t){return axios.post(REQUEST_URL.articleGetPageList,REQUEST_URL.handleParams(t)).then(function(t){return o.a.resolve(t.data.PostContent)})},paramsDetailGetList:function(t){return axios.post(REQUEST_URL.paramsDetailGetList,REQUEST_URL.handleParams(t)).then(function(t){return o.a.resolve(t.data.PostContent)})}},l=function(t){return n()({articleCagetoryID:"",articleTagsID:""},t)},c={name:"articleListPage",data:function(){return{breadcrumbs:[{title:this.$route.query.paramsName}],columns:[{title:"序号",type:"index",width:120},{title:"文章标题",key:"articleTitle"},{title:"文章分类",key:"articleCagetoryName"},{title:"作者",key:"articleAuthor"},{title:"摘要",key:"articleAbstract"},{title:"标签",key:"articleTagsName"},{title:"创建时间",key:"CreateTime",render:this.TimeRender},{title:"操作",align:"center",render:this.toolColumnRender}],searchForm:l(),CategoryListData:[],TagListData:[],tableData:[],PageCount:0,PageNumber:1,PageSize:10}},components:{SubNavigationFrame:a("C7Kb").a},mounted:function(){this.$store.commit("showAdminMenu",!0),this.getAricleListHandler(),this.getCategoryHandler(),this.getTagsHandler()},methods:{TimeRender:function(t,e){return t("span",{domProps:{innerText:new Date(e.row.CreateTime).Format("yyyy-MM-dd hh:mm")}})},toolColumnRender:function(t,e){var a=this;return t("div",[t("Button",{props:{type:"text"},domProps:{innerText:"编辑"},on:{click:function(t){a.$router.push({name:"addArticle",query:{id:e.row.article_id}}),t.stopPropagation()}}}),t("Button",{props:{type:"text"},domProps:{innerText:"删除"},on:{click:function(t){a.deleteAricleHandler(e.row.article_id),t.stopPropagation()}}})])},resetFormHandler:function(){this.searchForm=l(),this.getAricleListHandler()},getCategoryHandler:function(){var t=this;s.paramsDetailGetList({PostContent:{filter:{detailParentParamCode:"0001"}}}).then(function(e){t.CategoryListData=e}).catch(function(e){t.$Message.error(e)})},getTagsHandler:function(){var t=this;s.paramsDetailGetList({PostContent:{filter:{detailParentParamCode:"0003"}}}).then(function(e){t.TagListData=e}).catch(function(e){t.$Message.error(e)})},getAricleListHandler:function(){var t=this,e=objectCopy(this.searchForm);for(var a in e)""===e[a]&&delete e[a];s.articleGetPageList({PostContent:{_OrderBy:"-CreateTime",PageSize:this.PageSize,PageNumber:this.PageNumber,filter:e}}).then(function(e){t.tableData=e.Items,t.PageCount=e.TotalItems}).catch(function(e){t.$Message.error(e)})},deleteAricleHandler:function(t){var e=this;if(!t)return this.$Message.warning("参数ID为空，无法删除！！！");this.$Modal.confirm({title:"操作确认",icon:"warning",content:"是否删除此文章",okText:"确定",showCancel:!0,loading:!0,onOk:function(){s.articleDelete({PostContent:{article_id:t}}).then(function(t){e.$Message.success("成功删除文章！！！"),e.$Modal.remove(),e.getAricleListHandler()}).catch(function(t){e.$Modal.remove(),e.$Message.error(t)})}})}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("SubNavigationFrame",{attrs:{title:t.$route.query.paramsName,breadcrumb:t.breadcrumbs}},[a("div",{style:{textAlign:"right",marginTop:"-2.5rem"},attrs:{slot:"navigation"},slot:"navigation"},[a("Button",{on:{click:function(e){return t.$router.push({name:"Index"})}}},[t._v("返回主站")]),t._v(" "),a("Button",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")])],1),t._v(" "),a("div",{staticClass:"sub-page-container",style:{"margin-top":".5rem","padding-top":"1rem"},attrs:{slot:"content"},slot:"content"},[a("Row",[a("Form",{ref:"formRefs",attrs:{"label-width":100,model:t.searchForm}},[a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"sub-page-input-container min-input-container",attrs:{label:"文章分类：",prop:""}},[a("Select",{attrs:{transfer:"",filterable:"",clearable:"","label-in-value":""},model:{value:t.searchForm.articleCagetoryID,callback:function(e){t.$set(t.searchForm,"articleCagetoryID",e)},expression:"searchForm.articleCagetoryID"}},t._l(t.CategoryListData,function(e,r){return a("Option",{key:e.detail_params_id,attrs:{value:e.detail_params_id}},[t._v(t._s(e.detailName))])}),1)],1)],1),t._v(" "),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"sub-page-input-container min-input-container",attrs:{label:"文章标签：",prop:""}},[a("Select",{attrs:{transfer:"",filterable:"",clearable:"","label-in-value":""},model:{value:t.searchForm.articleTagsID,callback:function(e){t.$set(t.searchForm,"articleTagsID",e)},expression:"searchForm.articleTagsID"}},t._l(t.TagListData,function(e,r){return a("Option",{key:e.detail_params_id,attrs:{value:e.detail_params_id}},[t._v(t._s(e.detailName))])}),1)],1)],1),t._v(" "),a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"sub-page-input-container min-input-container",style:{paddingLeft:"1.5rem",textAlign:"left"}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.getAricleListHandler()}}},[t._v("查询")]),t._v(" "),a("Button",{style:{marginLeft:".5rem"},on:{click:function(e){return t.resetFormHandler()}}},[t._v("重置")])],1)])],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"8"}},[a("div",{style:{marginBottom:".7rem"}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push({name:"addArticle"})}}},[a("Icon",{attrs:{type:"md-add"}}),t._v("新增"+t._s(t.$route.query.paramsName))],1)],1)])],1),t._v(" "),a("div",{style:{overflow:"auto"}},[a("Table",{style:{minWidth:"1000px"},attrs:{columns:t.columns,data:t.tableData}})],1),t._v(" "),a("Page",{style:{paddingTop:"1rem",textAlign:"center"},attrs:{total:t.PageCount,current:t.PageNumber,"page-size":t.PageSize,placement:"top","show-elevator":"","show-total":"","show-sizer":""},on:{"on-change":function(e){t.PageNumber=e,t.getAricleListHandler()},"on-page-size-change":function(e){t.PageSize=e,t.getAricleListHandler()}}})],1)])},staticRenderFns:[]};var m=a("C7Lr")(c,u,!1,function(t){a("CS18")},null,null);e.default=m.exports}});
//# sourceMappingURL=5.966d2cee63df11475733.js.map